<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Scoreboard</title>
    <link rel="stylesheet" href="./app.css" />
  </head>

  <body>
    <div id="container">Loading...</div>


  <!--   // <script src="./vendor/react.js"></script>
    // <script src="./vendor/react-dom.js"></script>
    // <script src="./vendor/babel-browser.min.js"></script>
    // <script type="text/babel" src="./app.jsx"></script> -->
    <script src="https://unpkg.com/react@15.4.0/dist/react.js"></script>
        <script src="https://unpkg.com/react-dom@15.4.0/dist/react-dom.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
      <script type="text/babel">

        var PLAYERS = [
          {
            name: "John Halson",
            score: 34,
            id: 1,
          },
          {
            name:"Bruce Wayne",
            score: 55,
            id: 2,
          },

          {
            name:"Bane Wilson",
            score:89,
            id: 3,
          },

           {
            name:"Chris Penguin",
            score:45,
            id: 4,
          },
           {
            name:"Billy Riddler",
            score:66,
            id: 5,
          }

        ]

      function Header(props){
        return( <div className="header">
                  <h1>{props.title}</h1>
                </div>

              );
      }

      Header.propTypes = {
        title: React.PropTypes.string.isRequired,
      };


      // var Counter = React.createClass({
      //     propTypes: { 
      //       initialScore: React.PropTypes.number.isRequired,
      //     },

      //     getInitialState: function(){
      //       return {
      //         score: this.props.initialScore,
      //       }
      //     },

      //     incrementScore: function(e){
      //       this.setState({
      //         score: (this.state.score + 1),
      //       })
      //     },

      //     decrementScore: function(e){
      //       this.setState({
      //         score: (this.state.score - 1),
      //       })
      //     },

      //     render: function(){
      //       return (
      //           <div className="counter">
      //             <button className="counter-action decrement" onClick={this.decrementScore}> - </button>
      //             <div className="counter-score"> {this.state.score} </div>
      //             <button className="counter-action increment" onClick={this.incrementScore} > + </button>
      //           </div>
      //     )}
      // });

      function Counter(props){
         return (
                <div className="counter">
                  <button className="counter-action decrement"> - </button>
                  <div className="counter-score"> {props.score} </div>
                  <button className="counter-action increment" > + </button>
                </div>
          )
       };

       Counter.propTypes = {
        score: React.PropTypes.number.isRequired,
       };
      

      function Player(props){
        return (<div className="player">
                  <div className="player-name">
                    {props.name}
                  </div>
          
                  <div className="player-score">
                  </div>

                  <Counter score={props.score}/>
                </div>);
      }

      Player.propTypes = {
        name: React.PropTypes.string.isRequired,
        score: React.PropTypes.number.isRequired,
      };


var Application = React.createClass({

   
  propTypes: {
            title: React.PropTypes.string,
            players: React.PropTypes.arrayOf(React.PropTypes.shape({
            name: React.PropTypes.string.isRequired,
            score: React.PropTypes.number.isRequired,
            id: React.PropTypes.number.isRequired
          })).isRequired
      },

  getDefaultProps: function(){
      return {
        title: "Scoreboard"
      }
    },


  render: function(){
     return (
       <div className="scoreboard">
              <Header title={this.props.title} />

              <div className="players">
                {this.props.players.map(function(player){
                  return <Player name={player.name} score={player.score} id={player.id} />
                  })
                }
      
              </div>
            </div>
             
          )
   },

});

  //   function Application(props){
  //         return(
  //           <div className="scoreboard">
  //             <Header title={props.title} />

  //             <div className="players">
  //               {props.players.map(function(player){
  //                 return <Player name={player.name} score={player.score} id={player.id} />
  //                 })
  //               }
      
  //             </div>
  //           </div>
  //   );
  // }

        // Application.propTypes = {
        //   title: React.PropTypes.string,
        //   players: React.PropTypes.arrayOf(React.PropTypes.shape({
        //     name: React.PropTypes.string.isRequired,
        //     score: React.PropTypes.number.isRequired,
        //     id: React.PropTypes.number.isRequired
        //   })).isRequired
        // }

        // Application.defaultProps = {
        //   title: "Scoreboard"
        // }

ReactDOM.render(<Application  players={PLAYERS}/>, document.getElementById('container'));


      </script>
  </body>
</html>